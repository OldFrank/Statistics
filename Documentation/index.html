<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN"
"http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
    <title>Foundation Statistics Framework</title>
    <link rel="stylesheet" href="style.css" type="text/css" media="screen">
</head>

<body>

<h1>Foundation Statistics Framework</h1>

<div id="toc">
<ul>
<li><a href="#synopsis">Synopsis</a></li>
<li><a href="#description">Description</a></li>
<li><a href="#methods">Methods</a></li>
<li><a href="#download">Download</a></li>
<li><a href="#author">Author</a></li>
</ul>
</div>

<p><a href="http://code.brautaset.org/Statistics/">Statistics</a> is a
Foundation framework for calculating&mdash;no points for guessing
it&mdash;statistics. </p>

<h2 id="synopsis">Synopsis</h2>

<p>The following example assumes you have included the
<code>Statistics/Statistics.h</code> header and somehow linked to the
Statistics framework:</p>

<pre><code>
// Create statistics object
SBStatistics *stat = [SBStatistics new];

// Add some random data points
for (int i = 0; i &lt; 1000; i++)
    [stat addData:[NSNumber numberWithInt:random()/1000.0]];

// Format report
id fmt = [NSMutableArray array];
[fmt addObject:@"Data set consists of %u data points."];
[fmt addObject:@" * Min:      %f"];
[fmt addObject:@" * Max:      %f"];
[fmt addObject:@" * Mean:     %f"];
[fmt addObject:@" * Variance: %f"];
[fmt addObject:@" * StdDev:   %f"];

// Print it
NSLog([fmt componentsJoinedByString:@"\n"],
    stat.count,
    stat.min,
    stat.max,
    stat.mean,
    [stat variance],
    [stat standardDeviation]
);
</code></pre>

<h2 id="description">Description</h2>

<p>This Foundation statistics framework is inspired by Perl's <a
href="http://search.cpan.org/dist/Statistics-Descriptive/">
Statistics::Descriptive</a> and like it consists of two main
classes.</p>

<p>SBStatistics calculates a range of statistical measurements on the
fly as each data point is added. The data is then immediately
discarded, giving it a very low memory footprint.</p>

<p>SBFullStatistics in turn subclasses SBStatistics and records each
data point. It is therefore able to provide more advanced statistical
functions. The trade-off is that it can consume a lot of memory if you
are collecting a lot of data.</p>

<h2 id="methods">Methods</h2>

<p>The definitive reference for the interface is in the  <a
href="http://svn.brautaset.org/Statistics/trunk/Classes/SBStatistics.h
"> SBStatistics.h</a> header file, but for convenience I've repeated
it here. The <a
href="http://svn.brautaset.org/Statistics/trunk/Classes/SBStatistics.m
"> SBStatistics</a> class provides the following methods:</p>

<pre><code>
// Adds a data point. x must respond to -doubleValue.
- (void)addData:(id)x;

// Adds data points from the given array. Calls -addData: repeatedly.
- (void)addDataFromArray:(NSArray*)x;

- (NSUInteger)count;    // number of data points
- (NSUInteger)mindex;   // index of smallest data point
- (NSUInteger)maxdex;   // index of largest data pont

- (double)min;          // smallest data point
- (double)max;          // largest data point
- (double)mean;         // arithmetic mean
- (double)range;        // max - min

// <a href="http://en.wikipedia.org/wiki/Variance">http://en.wikipedia.org/wiki/Variance</a>
- (double)variance;                 // N-1 divisor
- (double)biasedVariance;           // N divisor

// <a href="http://en.wikipedia.org/wiki/Standard_deviation">http://en.wikipedia.org/wiki/Standard_deviation</a>
- (double)standardDeviation;        // N-1 divisor
- (double)biasedStandardDeviation;  // N divisor
</code></pre>

<p>The <a href="http://svn.brautaset.org/Statistics/trunk/Classes/SBFullStatistics.m">
SBFullStatistics</a> class additionally provides the following
methods:</p>

<pre><code>
// <a href="http://en.wikipedia.org/wiki/Mode_(statistics)">http://en.wikipedia.org/wiki/Mode_(statistics)</a>
- (double)mode;

// <a href="http://en.wikipedia.org/wiki/Median">http://en.wikipedia.org/wiki/Median</a>
- (double)median;

// <a href="http://en.wikipedia.org/wiki/Harmonic_mean">http://en.wikipedia.org/wiki/Harmonic_mean</a>
- (double)harmonicMean;

// <a href="http://en.wikipedia.org/wiki/Geometric_mean">http://en.wikipedia.org/wiki/Geometric_mean</a>
- (double)geometricMean;

// <a href="http://en.wikipedia.org/wiki/Frequency_distribution">http://en.wikipedia.org/wiki/Frequency_distribution</a>
- (NSDictionary*)frequencyDistributionWithBuckets:(NSArray*)x cumulative:(BOOL)y;

// Conveniently create buckets for frequency distribution calculations.
- (NSArray*)bucketsWithCount:(NSUInteger)x;
- (NSArray*)bucketsWithInterval:(double)x;

// Returns the data in the order they were added
- (NSArray*)data;

// Returns the data in sorted order
- (NSArray*)sortedData;

// Returns the data sans low and high outliers
- (NSArray*)sortedDataDiscardingLow:(double)l high:(double)h;

// Return a new statistics object, with outliers removed from the data.
// This can be used to calculate the truncated (trimmed) mean.
// <a href="http://en.wikipedia.org/wiki/Truncated_mean">http://en.wikipedia.org/wiki/Truncated_mean</a>
- (id)statisticsDiscardingLow:(double)l high:(double)h;
</code></pre>

<h2 id="download">Download</h2>

<p>This project is still very young, and newer versions will be
announced on my <a href="http://skuggdev.wordpress.com">Cocoa
blog</a>. Nevertheless, it's fairly well tested and unlikely to have
serious bugs.</p>

<p>You can download a dmg containing an <a href="__DMGURL__">embedded
framework</a> of the latest version (Leopard only). Alternatively you
can get the <a
href="http://svn.brautaset.org/Statistics/trunk/">Statistics
source</a> from my Subversion server. </p>

<p></p>

<h2 id="author">Author</h2>

<p>This code is released under the revised BSD license and is a work
by <a href="mailto:stig@brautaset.org">Stig Brautaset</a>.</p>

<p><a href="http://code.brautaset.org/">http://code.brautaset.org</a>
has more code by me.</p>

</body>
</html>
